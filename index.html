<!DOCTYPE html>
<html lang="ja">
  <head>
    <meta charset="UTF-8" />
    <title>Vue 3 Clean Architecture</title>
    <link rel="stylesheet" href="./css/style.css" />
  </head>
  <body>
    <div id="loader"><div class="spinner"></div></div>

    <div id="app" v-cloak class="wrapper">
      <my-header :title="siteTitle"></my-header>
      <div class="container">
        <my-sidebar
          :items="menuItems"
          :current="currentPage"
          @change-page="currentPage = $event"
        ></my-sidebar>
        <main class="main-content">
          <h2>{{ currentPage }}</h2>
          <p>コンテンツがここに入ります。</p>
        </main>
      </div>
      <my-footer></my-footer>
    </div>

    <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
    <script src="./components/header.js"></script>
    <script src="./components/sidebar.js"></script>
    <script src="./components/footer.js"></script>
    <script>
      const { createApp, ref, onMounted } = Vue;
      const app = createApp({
        setup() {
          const siteTitle = ref("Modern Split Layout");
          const currentPage = ref("Home");
          const menuItems = ref(["Home", "Projects", "About"]);
          onMounted(() => {
            setTimeout(() => {
              document.getElementById("loader").style.opacity = "0";
              setTimeout(() => document.getElementById("loader").remove(), 400);
            }, 800);
          });
          return { siteTitle, currentPage, menuItems };
        },
      });
      app.component("my-header", MyHeader);
      app.component("my-sidebar", MySidebar);
      app.component("my-footer", MyFooter);
      app.mount("#app");
    </script>
  </body>
</html>
